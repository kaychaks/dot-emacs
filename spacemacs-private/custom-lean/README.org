#+TITLE: custom-lean layer

# The maximum height of the logo should be 200 pixels.
[[img/custom-lean.png]]

# TOC links should be GitHub style anchors.
* Table of Contents                                        :TOC_4_gh:noexport:
- [[#description][Description]]
  - [[#features][Features:]]
- [[#install][Install]]
- [[#key-bindings][Key bindings]]

* Description
This layer adds support for [[https://leanprover.github.io/][Lean]] programming language.

** Features:
  - syntax highlighting
  - autocompletion via ~company-lean~
  - searcheable list of options via ~helm-lean~

* Install
To use this configuration layer, add it to your =~/.spacemacs=. You will need to
add =custom-lean= to the existing =dotspacemacs-configuration-layers= list in this
file.

* Key bindings
  
  from [[https://github.com/leanprover/lean-mode][lean-mode]]

  | Key                | Function                                                                        |
  |--------------------|---------------------------------------------------------------------------------|
  | <kbd>M-.</kbd>     | jump to definition in source file (`lean-find-definition`)                      |
  | <kbd>M-,</kbd>     | jump back to position before <kbd>M-.</kbd> (`xref-pop-marker-stack`)           |
  | <kbd>C-c C-k</kbd> | shows the keystroke needed to input the symbol under the cursor                 |
  | <kbd>C-c C-x</kbd> | execute lean in stand-alone mode (`lean-std-exe`)                               |
  | <kbd>C-c SPC</kbd> | run a command on the hole at point (`lean-hole`)                                |
  | <kbd>C-c C-d</kbd> | show a searchable list of definitions (`helm-lean-definitions`)                 |
  | <kbd>C-c C-g</kbd> | toggle showing current tactic proof goal (`lean-toggle-show-goal`)              |
  | <kbd>C-c C-n</kbd> | toggle showing next error in dedicated buffer (`lean-toggle-next-error`)        |
  | <kbd>C-c C-b</kbd> | toggle showing output in inline boxes (`lean-message-boxes-toggle`)             |
  | <kbd>C-c C-r</kbd> | restart the lean server (`lean-server-restart`)                                 |
  | <kbd>C-c C-s</kbd> | switch to a different Lean version via [elan](https://github.com/Kha/elan) (`lean-server-switch-version`) |
  | <kbd>C-c ! n</kbd> | flycheck: go to next error                                                      |
  | <kbd>C-c ! p</kbd> | flycheck: go to previous error                                                  |
  | <kbd>C-c ! l</kbd> | flycheck: show list of errors                                                   |

